{"ast":null,"code":"import _slicedToArray from\"/Users/de-lovely/Documents/OnlineOrder/online-order-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Card,List,message,Select,Tooltip}from\"antd\";import{useEffect,useState}from\"react\";import{addItemToCart,getMenus,getRestaurants}from\"../utils\";import{PlusOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Option=Select.Option;var AddToCartButton=function AddToCartButton(_ref){var itemId=_ref.itemId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var AddToCart=function AddToCart(){setLoading(true);addItemToCart(itemId).then(function(){return message.success(\"Successfully add item\");}).catch(function(err){return message.error(err.message);}).finally(function(){setLoading(false);});};return/*#__PURE__*/_jsx(Tooltip,{title:\"Add to shopping cart\",children:/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:AddToCart})});};var FoodList=function FoodList(){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),foodData=_useState4[0],setFoodData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),curRest=_useState6[0],setCurRest=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),restaurants=_useState8[0],setRestaurants=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loadingRest=_useState12[0],setLoadingRest=_useState12[1];useEffect(function(){setLoadingRest(true);getRestaurants().then(function(data){setRestaurants(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoadingRest(false);});},[]);useEffect(function(){if(curRest){setLoading(true);getMenus(curRest).then(function(data){setFoodData(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoading(false);});}},[curRest]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Select,{value:curRest,onSelect:function onSelect(value){return setCurRest(value);},placeholder:\"Select a restaurant\",loading:loadingRest,style:{width:300},onChange:function onChange(){},children:restaurants.map(function(item){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.name});})}),curRest&&/*#__PURE__*/_jsx(List,{style:{marginTop:20},loading:loading,grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:3,xxl:3},dataSource:foodData,renderItem:function renderItem(item){return/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Card,{title:item.name,extra:/*#__PURE__*/_jsx(AddToCartButton,{itemId:item.id}),children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,style:{height:340,width:\"100%\",display:\"block\"}}),\"Price: \".concat(item.price)]})});}})]});};export default FoodList;","map":{"version":3,"names":["Button","Card","List","message","Select","Tooltip","useEffect","useState","addItemToCart","getMenus","getRestaurants","PlusOutlined","Option","AddToCartButton","itemId","loading","setLoading","AddToCart","then","success","catch","err","error","finally","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","data","value","width","map","item","id","name","marginTop","gutter","xs","sm","md","lg","xl","xxl","imageUrl","height","display","price"],"sources":["/Users/de-lovely/Documents/OnlineOrder/online-order-frontend/src/components/FoodList.jsx"],"sourcesContent":["import { Button, Card, List, message, Select, Tooltip } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\";\nimport { PlusOutlined } from \"@ant-design/icons\";\n\nconst { Option } = Select;\n\nconst AddToCartButton = ({ itemId }) => {\n  const [loading, setLoading] = useState(false);\n\n  const AddToCart = () => {\n    setLoading(true);\n    addItemToCart(itemId)\n      .then(() => message.success(`Successfully add item`))\n      .catch((err) => message.error(err.message))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Tooltip title=\"Add to shopping cart\">\n      <Button\n        loading={loading}\n        type=\"primary\"\n        icon={<PlusOutlined />}\n        onClick={AddToCart}\n      />\n    </Tooltip>\n  );\n};\n\nconst FoodList = () => {\n  const [foodData, setFoodData] = useState([]);\n  const [curRest, setCurRest] = useState();\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingRest, setLoadingRest] = useState(false);\n\n  useEffect(() => {\n    setLoadingRest(true);\n    getRestaurants()\n      .then((data) => {\n        setRestaurants(data);\n      })\n      .catch((err) => {\n        message.error(err.message);\n      })\n      .finally(() => {\n        setLoadingRest(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (curRest) {\n      setLoading(true);\n      getMenus(curRest)\n        .then((data) => {\n          setFoodData(data);\n        })\n        .catch((err) => {\n          message.error(err.message);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    }\n  }, [curRest]);\n\n  return (\n    <>\n      <Select\n        value={curRest}\n        onSelect={(value) => setCurRest(value)}\n        placeholder=\"Select a restaurant\"\n        loading={loadingRest}\n        style={{ width: 300 }}\n        onChange={() => {}}\n      >\n        {restaurants.map((item) => {\n          return <Option value={item.id}>{item.name}</Option>;\n        })}\n      </Select>\n      {curRest && (\n        <List\n          style={{ marginTop: 20 }}\n          loading={loading}\n          grid={{\n            gutter: 16,\n            xs: 1,\n            sm: 2,\n            md: 4,\n            lg: 4,\n            xl: 3,\n            xxl: 3,\n          }}\n          dataSource={foodData}\n          renderItem={(item) => (\n            <List.Item>\n              <Card\n                title={item.name}\n                extra={<AddToCartButton itemId={item.id} />}\n              >\n                <img\n                  src={item.imageUrl}\n                  alt={item.name}\n                  style={{ height: 340, width: \"100%\", display: \"block\" }}\n                />\n                {`Price: ${item.price}`}\n              </Card>\n            </List.Item>\n          )}\n        />\n      )}\n    </>\n  );\n};\n\nexport default FoodList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}